"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),React=_interopRequireWildcard(require("react")),_classnames=_interopRequireDefault(require("classnames")),_LoadingOutlined=_interopRequireDefault(require("@ant-design/icons/LoadingOutlined")),_CloseCircleFilled=_interopRequireDefault(require("@ant-design/icons/CloseCircleFilled")),_CheckCircleFilled=_interopRequireDefault(require("@ant-design/icons/CheckCircleFilled")),_ExclamationCircleFilled=_interopRequireDefault(require("@ant-design/icons/ExclamationCircleFilled")),_col=_interopRequireDefault(require("../grid/col")),_context=require("./context"),_ErrorList=_interopRequireDefault(require("./ErrorList"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var iconMap={success:_CheckCircleFilled.default,warning:_ExclamationCircleFilled.default,error:_CloseCircleFilled.default,validating:_LoadingOutlined.default},FormItemInput=function FormItemInput(props){var prefixCls=props.prefixCls,status=props.status,wrapperCol=props.wrapperCol,children=props.children,help=props.help,errors=props.errors,onDomErrorVisibleChange=props.onDomErrorVisibleChange,hasFeedback=props.hasFeedback,formItemRender=props._internalItemRender,validateStatus=props.validateStatus,extra=props.extra,baseClassName="".concat(prefixCls,"-item"),formContext=React.useContext(_context.FormContext),mergedWrapperCol=wrapperCol||formContext.wrapperCol||{},className=(0,_classnames.default)("".concat(baseClassName,"-control"),mergedWrapperCol.className);React.useEffect((function(){return function(){onDomErrorVisibleChange(!1)}}),[]);var IconNode=validateStatus&&iconMap[validateStatus],icon=hasFeedback&&IconNode?React.createElement("span",{className:"".concat(baseClassName,"-children-icon")},React.createElement(IconNode,null)):null,subFormContext=(0,_extends2.default)({},formContext);delete subFormContext.labelCol,delete subFormContext.wrapperCol;var inputDom=React.createElement("div",{className:"".concat(baseClassName,"-control-input")},React.createElement("div",{className:"".concat(baseClassName,"-control-input-content")},children),icon),errorListDom=React.createElement(_context.FormItemPrefixContext.Provider,{value:{prefixCls:prefixCls,status:status}},React.createElement(_ErrorList.default,{errors:errors,help:help,onDomErrorVisibleChange:onDomErrorVisibleChange})),extraDom=extra?React.createElement("div",{className:"".concat(baseClassName,"-extra")},extra):null,dom=formItemRender&&"pro_table_render"===formItemRender.mark&&formItemRender.render?formItemRender.render(props,{input:inputDom,errorList:errorListDom,extra:extraDom}):React.createElement(React.Fragment,null,inputDom,errorListDom,extraDom);return React.createElement(_context.FormContext.Provider,{value:subFormContext},React.createElement(_col.default,(0,_extends2.default)({},mergedWrapperCol,{className:className}),dom))},_default=FormItemInput;exports.default=_default;