"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),React=_interopRequireWildcard(require("react")),_rcCollapse=_interopRequireDefault(require("rc-collapse")),_classnames=_interopRequireDefault(require("classnames")),_RightOutlined=_interopRequireDefault(require("@ant-design/icons/RightOutlined")),_toArray=_interopRequireDefault(require("rc-util/lib/Children/toArray")),_omit=_interopRequireDefault(require("rc-util/lib/omit")),_CollapsePanel=_interopRequireDefault(require("./CollapsePanel")),_configProvider=require("../config-provider"),_motion=_interopRequireDefault(require("../_util/motion")),_reactNode=require("../_util/reactNode");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var Collapse=function Collapse(props){var _classNames,_React$useContext=React.useContext(_configProvider.ConfigContext),getPrefixCls=_React$useContext.getPrefixCls,direction=_React$useContext.direction,customizePrefixCls=props.prefixCls,_props$className=props.className,className=void 0===_props$className?"":_props$className,_props$bordered=props.bordered,bordered=void 0===_props$bordered||_props$bordered,ghost=props.ghost,prefixCls=getPrefixCls("collapse",customizePrefixCls),iconPosition=function getIconPosition(){var expandIconPosition=props.expandIconPosition;return void 0!==expandIconPosition?expandIconPosition:"rtl"===direction?"right":"left"}(),collapseClassName=(0,_classnames.default)((_classNames={},(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-borderless"),!bordered),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-icon-position-").concat(iconPosition),!0),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-rtl"),"rtl"===direction),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-ghost"),!!ghost),_classNames),className),openMotion=(0,_extends2.default)((0,_extends2.default)({},_motion.default),{motionAppear:!1,leavedClassName:"".concat(prefixCls,"-content-hidden")});return React.createElement(_rcCollapse.default,(0,_extends2.default)({openMotion:openMotion},props,{expandIcon:function renderExpandIcon(){var panelProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},expandIcon=props.expandIcon,icon=expandIcon?expandIcon(panelProps):React.createElement(_RightOutlined.default,{rotate:panelProps.isActive?90:void 0});return(0,_reactNode.cloneElement)(icon,(function(){return{className:(0,_classnames.default)(icon.props.className,"".concat(prefixCls,"-arrow"))}}))},prefixCls:prefixCls,className:collapseClassName}),function getItems(){var children=props.children;return(0,_toArray.default)(children).map((function(child,index){var _a;if(null===(_a=child.props)||void 0===_a?void 0:_a.disabled){var key=child.key||String(index),_child$props=child.props,disabled=_child$props.disabled,collapsible=_child$props.collapsible,childProps=(0,_extends2.default)((0,_extends2.default)({},(0,_omit.default)(child.props,["disabled"])),{key:key,collapsible:null!=collapsible?collapsible:disabled?"disabled":void 0});return(0,_reactNode.cloneElement)(child,childProps)}return child}))}())};Collapse.Panel=_CollapsePanel.default;var _default=Collapse;exports.default=_default;